{% extends "base_generic.html" %}
{% block content %}
<div class="l-navbar" id="navbar">
    <nav class="nav_side">
      <div>
        <div class="nav_brand">
          <ion-icon name="menu-outline" class="nav_toggle" id="nav-toggle"></ion-icon>
          <a href="#" class="nav_logo">Company</a>
        </div>
        <div class="nav_list">
          <a href="#" class="nav_link">
            <ion-icon name="home-outline" class="nav_icon"></ion-icon>
            <span class="nav_name">Menu</span>
          </a>
          <a href="#" class="nav_link">
            <ion-icon name="folder-open-outline" class="nav_icon"></ion-icon>
            <span class="nav_name">Projects</span>
          </a>
          <a href="#" class="nav_link">
            <ion-icon name="analytics-outline" class="nav_icon"></ion-icon>
            <span class="nav_name">Analytics</span>
          </a>
        </div>
      </div>
      <a href="#" class="nav_link">
        <ion-icon name="log-out-outline" class="nav_icon"></ion-icon>
        <span class="nav_name">Log Out</span>
      </a>
    </nav>
</div>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-12">
            <h1 class="header">Article List</h1>
            {% if article_list %}
            <ul>
                {% for article in article_list %}
                <div class="row justify-content-center">
                <div class="card mb-4 col-10 col-md-12 p-4">
                    <a href={{article.url}} target="_blank" style="text-decoration: none;">
                        <div class="card-body">
                            <div class="row justify-content-center">
                                <div class="col-md-9 col-11">
                                <div class="card-title">
                                    <h> - {{article.title}} </h5>
                                </div>
                                <div class="card-text">
                                    <p>{{article.summary}}</p>
                                </div>
                            </div>
                            <div class="col-md-3 mb-4 d-none d-md-block image my-auto">
                                <img src={{ article.imageurl }} class="img-responsive" width="100%"></img>
                            </div>
                            </div>
                        </div>
                    </a>
                    {% if user.is_authenticated %}
                    {% if article in saved_list%}
                    <a href="{% url 'changesaved' operation='removefromsaved' pk=article.pk source='userindex' %}"><button type="button"
                            class="btn" style="background-color: #379683; color: #edf5e1;" onclick="redir()">Remove <ion-icon name="bookmark-outline" class="save-btn" style="color: #d1c4e9"></ion-icon></button></a>
                    {% else %}
                    <a href="{% url 'changesaved' operation='addtosaved' pk=article.pk source='userindex' %}"><button type="button"
                            class="btn" onclick="redir()">Save <ion-icon name="bookmark-outline" class="save-btn"></ion-icon></button></a>
                    {% endif %}
                    {% endif %}
                </div>
                </div>
                {% endfor %}
            </ul>
            {% else %}
            <p>No articles saved</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}